---
title: Bundle Size & Tree-shaking
description: Keep bundles small by choosing the right import strategy.
---

import { Card, CardGrid } from '@astrojs/starlight/components'
import { LinkCard } from '@astrojs/starlight/components'

Optimize your bundle size by choosing the right approach for your use case.

## Import strategies overview

### 1. Named Imports

- **Best for:** Static flags known at build time
- **Bundle impact:** ~950 bytes per flag
- **Tree-shaking:** ✅ Excellent
- **Loading:** Synchronous, instant

**[View detailed usage with code examples →](./usage/#1-named-imports)**

### 2. DynamicFlag

- **Best for:** Offline-first apps that must render any runtime code synchronously
- **Bundle impact:** ~600 KB (all flags bundled)
- **Tree-shaking:** ❌ None
- **Loading:** Synchronous, instant

**[View detailed usage with code examples →](./usage/#2-dynamicflag)**

## Bundle size comparison

| Method                       | Bundle Size | Tree-shaking | Loading | Use Case                         |
| ---------------------------- | ----------- | ------------ | ------- | -------------------------------- |
| **Named imports (3 flags)**  | ~2.8 KB     | ✅ Excellent | Instant | Known flags at build time        |
| **Named imports (10 flags)** | ~9.5 KB     | ✅ Excellent | Instant | Common flags header              |
| **DynamicFlag**              | ~600 KB     | ❌ None      | Instant | CDN-restricted, all flags needed |

## Expected bundle sizes

:::note[Size Reference (approx.)]

- **Each flag component (named import):** ~950 bytes (minified)
- **DynamicFlag (includes all flags):** ~600 KB (minified)
- **10 named imports:** ~9.5 KB total (minified)
  :::

## Performance tips

<CardGrid>
  <Card title="Code Splitting" icon="rocket">
    Split flag components across routes to load only what's needed per page.
  </Card>
  <Card title="Lazy Loading" icon="moon">
    Use your framework’s lazy loading (React `lazy()`, Vue `defineAsyncComponent`, Solid `lazy()`)
    to defer flags until they’re actually rendered.
  </Card>
  <Card title="Static Analysis" icon="magnifier">
    Run bundle analysis regularly to catch unexpected size increases.
  </Card>
  <Card title="Prefer Offline-first" icon="star">
    Default to named imports. If you must support any runtime code synchronously, use DynamicFlag.
  </Card>
</CardGrid>

## Analyzing your bundle

Use these tools to verify your bundle size:

```bash
# Webpack Bundle Analyzer
npm install --save-dev webpack-bundle-analyzer

# Vite Bundle Analyzer
npm install --save-dev rollup-plugin-visualizer

# Next.js Bundle Analyzer
npm install --save-dev @next/bundle-analyzer
```

## Related

<CardGrid stagger>
  <LinkCard
    title="Basic Usage"
    description="Learn how to import and use flag components with code examples"
    href="./usage/"
  />
  <LinkCard
    title="Dynamic Flags"
    description="Offline-first strategies for runtime ISO codes"
    href="./dynamic-flags/"
  />
</CardGrid>
